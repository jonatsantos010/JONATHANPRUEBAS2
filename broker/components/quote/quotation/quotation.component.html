<div class="form-group row">
    <div class="col-lg-3">
        <app-nav-menuprod></app-nav-menuprod>
    </div>
    <div class="col-lg-9">
        <div class="container-fluid p-0">
            <div class="header-content mb-3">
                <div class="containt-item">
                    <div class="header-item">
                        <span class="title">Cotizador</span>
                        <span class="title"
                              *ngIf="nrocotizacion">
                            <h6>Detalle de Cotización N° {{ nrocotizacion }}</h6>
                        </span>
                    </div>
                </div>
                <p class="eps-title">
                    {{ lblProducto }}<span>{{ lblFecha }}</span>
                </p>
            </div>

            <div class="collapse-list">
                <div>
                    <input class="collapse-open"
                           type="checkbox"
                           id="cotizador" />
                    <label class="collapse-btn title"
                           for="cotizador">Datos del Contratante
                        <i class="fa fa-angle-down pull-right"
                           style="position: relative; top: 4px"></i></label>
                    <div class="collapse-panel">
                        <div class="collapse-inner collapse-border">
                            <div class="row">
                                <div class="col-sm-12"
                                     *ngIf="!stateRecotiza">
                                    <label><span>BÚSQUEDA:</span></label>
                                    <label><span><input type="radio"
                                                   [(ngModel)]="inputsQuotation.P_TYPE_SEARCH"
                                                   name="searchContractor"
                                                   value="1"
                                                   (ngModelChange)="onSelectTypeSearch()"
                                                   class="t-search" />
                                            POR NRO. DOCUMENTO</span></label>
                                    <label><span><input type="radio"
                                                   [(ngModel)]="inputsQuotation.P_TYPE_SEARCH"
                                                   name="searchContractor"
                                                   value="2"
                                                   (ngModelChange)="onSelectTypeSearch()"
                                                   class="t-search" />
                                            POR NOMBRES</span></label>
                                </div>
                            </div>
                            <div class="row">
                                <div *ngIf="blockSearch"
                                     class="col-sm-3">
                                    <span>TIPO DOCUMENTO (*)</span>
                                    <select (change)="selTipoDocumento(inputsQuotation.P_NIDDOC_TYPE)"
                                            
                                            (click)="clearValidate(0)"
                                            [ngClass]="{ 'error-validate': inputsValidate[0] }"
                                            [(ngModel)]="inputsQuotation.P_NIDDOC_TYPE"
                                            class="minimal">
                                        <option value="-1" disabled>Seleccionar</option>
                                        <option *ngFor="let documenttype of documentTypeList"
                                                value="{{ documenttype.Id }}"> {{ documenttype.Name }}
                                        </option>
                                    </select>
                                </div>
                                <div *ngIf="!blockSearch"
                                     class="col-sm-3">
                                    <span>TIPO DE PERSONA (*)</span>
                                    <select (change)="onSelectTypePerson($event.target.value)"
                                            [(ngModel)]="inputsQuotation.P_PERSON_TYPE"
                                            class="minimal">
                    <!-- <option value="1"
                            selected>Persona Natural</option> -->
                                        <option value="2">Persona Jurídica</option>
                                    </select>
                                </div>
                                <div *ngIf="blockSearch"
                                     class="col-sm-3">
                                    <span>NRO DE DOCUMENTO (*)</span>
                                    <input type="text"
                                           placeholder="Nro Documento"
                                           [(ngModel)]="inputsQuotation.P_SIDDOC"
                                           (click)="clearValidate(1)"
                                           [ngClass]="{ 'error-validate': inputsValidate[1] }"
                                           (keypress)="
                      validarNroDocumento($event, inputsQuotation.P_NIDDOC_TYPE)
                    "
                                           (ngModelChange)="cambioDocumento(inputsQuotation.P_SIDDOC)"
                                           [disabled]="stateSearch"
                                           maxlength="{{ maxlength }}"
                                           (keyup.enter)="buscarContratante()" />
                                </div>
                                <div class="col-sm-3"
                                     style="margin-top: 35px"
                                     *ngIf="!stateRecotiza">
                                    <button (click)="buscarContratante()"
                                            style="margin: 0">
                                        <img src="assets/icons/buscar_certificado.png" />
                                        <span>Buscar</span>
                                    </button>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="
                    codProducto == 3 &&
                    creditHistory != null &&
                    !this.variable.var_isBroker
                  ">
                                    <span>TIPO RIESGO</span>
                                    <input type="text"
                                           [(ngModel)]="creditHistory.sdescript"
                                           [ngClass]="
                      creditHistory.nflag == 0 ? 'riesgo-alto' : 'riesgo-bajo'
                    "
                                           disabled />
                                </div>
                            </div>
                            <div class="row">
                                <div *ngIf="blockDoc"
                                     class="col-sm-3">
                                    <span>NOMBRES (*)</span>
                                    <input type="text"
                                           placeholder="Nombres"
                                           [disabled]="!stateSearch || stateRecotiza"
                                           [(ngModel)]="inputsQuotation.P_SFIRSTNAME"
                                           (keyup.enter)="buscarContratante()"
                                           (keypress)="textValidate($event, 5)" />
                                </div>
                                <div *ngIf="!blockDoc"
                                     class="col-sm-9">
                                    <span>RAZÓN SOCIAL (*)</span>
                                    <input type="text"
                                           placeholder="Razón Social"
                                           [disabled]="!stateSearch || stateRecotiza"
                                           [(ngModel)]="inputsQuotation.P_SLEGALNAME"
                                           (keyup.enter)="buscarContratante()"
                                           (keypress)="textValidate($event, 4)" />
                                </div>
                                <div *ngIf="blockDoc"
                                     class="col-sm-3">
                                    <span>APELLIDO PATERNO (*)</span>
                                    <input type="text"
                                           placeholder="Apellido Paterno"
                                           [disabled]="!stateSearch || stateRecotiza"
                                           [(ngModel)]="inputsQuotation.P_SLASTNAME"
                                           (keyup.enter)="buscarContratante()"
                                           (keypress)="textValidate($event, 5)" />
                                </div>
                                <div *ngIf="blockDoc"
                                     class="col-sm-3">
                                    <span>APELLIDO MATERNO</span>
                                    <input type="text"
                                           placeholder="Apellido Materno"
                                           [disabled]="!stateSearch || stateRecotiza"
                                           [(ngModel)]="inputsQuotation.P_SLASTNAME2"
                                           (keyup.enter)="buscarContratante()"
                                           (keypress)="textValidate($event, 5)" />
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <span>DIRECCIÓN</span>
                                    <input type="text"
                                           placeholder="Dirección"
                                           disabled
                                           [(ngModel)]="inputsQuotation.P_SDESDIREBUSQ" />
                                </div>
                                <div class="col-sm-3">
                                    <span>CORREO ELECTRÓNICO
                                        <label *ngIf="template.ins_email"
                                               style="margin: 0"></label></span>
                                    <input type="text"
                                           placeholder="Correo Electrónico"
                                           [disabled]="!flagEmail"
                                           [(ngModel)]="inputsQuotation.P_SE_MAIL"
                                           (click)="clearValidate(19)"
                                           [ngClass]="{ 'error-validate': inputsValidate[19] }" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Agregar Contacto -->
            <div class="collapse-list"
                 *ngIf="
          contractingdata != null && flagContact && template.ins_addContact
        ">
                <div>
                    <input class="collapse-open"
                           type="checkbox"
                           id="contactos" />
                    <label class="collapse-btn title"
                           for="contactos">Datos de contacto del cliente
                        <i class="fa fa-angle-down pull-right"
                           style="position: relative; top: 4px"></i></label>
                    <div class="collapse-panel">
                        <div class="collapse-inner collapse-border">
                            <div class="row">
                                <div class="col-sm-12 mt-15">
                                    <button *ngIf="contactList.length == 0"
                                            class="pull-right"
                                            (click)="openModal('add-contact')"
                                            style="margin: 0">
                                        <span>Agregar Contacto</span>
                                    </button>
                                    <table class="table table-borderless riesgo tblbroker"
                                           style="margin-top: 60px">
                                        <thead>
                                            <tr class="d-flex">
                                                <td class="col-sm text-center">N°</td>
                                                <td class="col-sm text-center">Parentesco</td>
                                                <td class="col-sm text-center">Nombres y Apellidos</td>
                                                <td class="col-sm text-center">Teléfono</td>
                                                <td class="col-sm text-center">Correo Electrónico</td>
                                                <td class="col-sm text-center">Acciones</td>
                                            </tr>
                                        </thead>
                                        <tbody *ngFor="let contacto of contactList; let row = index">
                                            <tr class="d-flex">
                                                <td class="col-sm text-center">{{ row + 1 }}</td>
                                                <td class="col-sm text-center">
                                                    {{ contacto.P_DESTICONTACTO }}
                                                </td>
                                                <td class="col-sm text-center">
                                                    {{ contacto.P_SNOMBRES }} {{ contacto.P_SAPEPAT }}
                                                    {{ contacto.P_SAPEMAT }}
                                                </td>
                                                <td class="col-sm text-center">
                                                    {{ contacto.P_SPHONE }}
                                                </td>
                                                <td class="col-sm text-center">
                                                    {{ contacto.P_SE_MAIL }}
                                                </td>
                                                <td class="col-sm text-center">
                                                    <img *ngIf="contacto.P_CLASS == ''"
                                                         src="assets/icons/editar.png"
                                                         (click)="editContact(contacto.P_NROW)"
                                                         title="Editar"
                                                         alt="Editar" />
                                                    &nbsp;
                                                    <img *ngIf="contacto.P_CLASS == ''"
                                                         src="assets/icons/anular.png"
                                                         (click)="deleteContact(row)"
                                                         title="Eliminar"
                                                         alt="Eliminar" />
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tbody *ngIf="contactList.length == 0">
                                            <tr class="d-flex">
                                                <td class="col-sm text-center">No tiene Contactos</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin Agregar Contacto -->

            <div class="collapse-list">
                <div>
                    <input class="collapse-open"
                           type="checkbox"
                           id="comercializador" />
                    <label class="collapse-btn title"
                           for="comercializador">Datos Brokers
                        <i class="fa fa-angle-down pull-right"
                           style="position: relative; top: 4px"></i></label>
                    <div class="collapse-panel">
                        <div class="collapse-inner collapse-border">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div [hidden]="
                      !canAddSecondaryBroker ||
                      variable.var_isBroker ||
                      typeTran == 'Exclusion'"
                                         *ngIf="brokerList.length < 3">
                                        <button class="pull-right"
                                                (click)="addBroker()"
                                                style="margin: 0">
                                            <span>Agregar</span>
                                        </button>
                                    </div>
                                    <table class="table table-borderless riesgo tblbroker"
                                           style="margin-top: 60px">
                                        <thead>
                                            <tr class="d-flex">
                                                <th class="col-sm text-center">
                                                    <label>Tipo Documento</label>
                                                </th>
                                                <th class="col-sm text-center">
                                                    <label>Nro Documento</label>
                                                </th>
                                                <th class="col-sm text-center">
                                                    <label>Razón Social / Nombres y Apellidos</label>
                                                </th>
                                                <th class="col-sm text-center"
                                                    *ngIf="(nTransac == 1 || nTransac == 4) && sAbTransac != 'DE'">
                                                    <label>Oficina de producción</label>
                                                </th>
                                                <th class="col-sm text-center"
                                                    *ngIf="listaTasasSalud?.length > 0 && template.ins_comSalud"> 
                                                    <label>{{ variable.var_desComisionSalud }}</label>
                                                </th>
                                                <th class="col-sm text-center"
                                                    *ngIf="codProducto == 3"> <!-- AVS - Comisiones 31/05/2023 -->
                                                    <label>{{ variable.var_desComisionVL }}</label>
                                                </th>
                                                <th class="col-sm text-center ctasa"
                                                    *ngIf="listaTasasSalud?.length > 0 && template.ins_comSaludPro">
                                                    <label><input [disabled]="!canProposeComission"
                                                               type="checkbox"
                                                               class="checkbox"
                                                               [(ngModel)]="comPropuestaSalud"
                                                               *ngIf="template.ins_comSaludProCheck"
                                                               (change)="resetearPropuesto(3)" /><span class="schk">
                                                            {{ variable.var_desComisionSaludPro }}</span></label>
                                                </th>
                                                <th class="col-sm text-center"
                                                    *ngIf="listaTasasPension?.length > 0 || (!template.ins_pensionList &&template.ins_comPension)">
                                                    <label>{{ variable.var_desComisionPension }}</label>
                                                </th>
                                                <th class="col-sm text-center ctasa"
                                                    *ngIf="listaTasasPension?.length > 0 || (!template.ins_pensionList && template.ins_comPensionPro)">
                                                    <label><input [disabled]="!canProposeComission"
                                                               type="checkbox"
                                                               class="checkbox"
                                                               [(ngModel)]="comPropuestaPension"
                                                               (change)="resetearPropuesto(4)"
                                                               *ngIf="template.ins_comPensionProCheck" /><span class="schk">
                                                            {{ variable.var_desComisionPensionPro }}</span></label>
                                                </th>
                                                <th class=""
                                                    *ngIf="!variable.var_isBroker ||(typeTran != 'Exclusion' && !variable.var_isBroker)">
                                                    <label>Acción</label>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="d-flex"
                                                *ngIf="brokerList.length == 0">
                                                <td class="col-sm text-center">No hay brokers</td>
                                            </tr>
                                            <tr class="d-flex"
                                                *ngFor="let broker of brokerList; let row = index">
                                                <td class="col-sm text-center">
                                                    <span>{{ broker.NTIPDOC | typeDocument }}</span>
                                                </td>
                                                <td class="col-sm text-center">
                                                    <span>{{ broker.NNUMDOC }}</span>
                                                </td>
                                                <td class="col-sm text-center">
                                                    <span>{{ broker.RAZON_SOCIAL }}</span>
                                                </td>
                                                <!-- Dep Broker Robert Pariasca-->
                                                <td class="col-sm text-center"
                                                    *ngIf="(nTransac == 1 || nTransac == 4) &&sAbTransac != 'DE'">
                                                    <ng-select [items]="BrokerDep"
                                                               bindLabel="SDESCRIPT"
                                                               [ngClass]="{ 'error-validate': inputsValidate[19] }"
                                                               bindValue="NLOCAL"
                                                               [(ngModel)]="selectedDep[row]"
                                                               class="dep-ng"
                                                               (click)="clearValidate(19)"
                                                               [clearable]="true"
                                                               placeholder="Seleccionar Oficina"
                                                               dropdownPosition="bottom"
                                                               notFoundText="No hay resultados">
                                                        <ng-template ng-option-tmp
                                                                     let-item="item">
                                                            <div title="{{ item.SDESCRIPT }}">
                                                                {{ item.SDESCRIPT }}
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </td>
                                                <!-- Dep Broker-->
                                                <td class="col-sm text-center"
                                                    *ngIf="listaTasasSalud?.length > 0 && template.ins_comSalud || codProducto == 3"> <!-- AVS - Comisiones 31/05/2023 -->
                                                    <span>{{ broker.P_COM_SALUD | number: '1.2-2' }}%</span>
                                                </td>
                                                <td class="col-sm"
                                                    *ngIf="listaTasasSalud?.length > 0 && template.ins_comSaludPro">
                                                    <input *ngIf="broker.P_COM_SALUD != 0"
                                                           type="text"
                                                           class="text-center"
                                                           maxlength="5"
                                                           class="text-center input-acc"
                                                           [disabled]="stateBrokerTasaSalud"
                                                           placeholder="0"
                                                           [(ngModel)]="broker.P_COM_SALUD_PRO"
                                                           [ngClass]="{ 'error-validate': broker.valItemSal }"
                                                           (ngModelChange)="comisionPropuesta(broker.P_COM_SALUD_PRO, row, 2)"
                                                           FloatDirective />
                                                    <input *ngIf="broker.P_COM_SALUD == 0"
                                                           type="text"
                                                           class="text-center input-acc"
                                                           placeholder="0"
                                                           disabled />
                                                </td>

                                                <td class="col-sm text-center"
                                                    *ngIf="listaTasasPension?.length > 0 && template.ins_comPension">
                                                    <span>{{ broker.P_COM_PENSION }}</span>
                                                </td>
                                                <td class="col-sm"
                                                    *ngIf="listaTasasPension?.length > 0 && template.ins_comPensionPro">
                                                    <input *ngIf="broker.P_COM_PENSION != 0"
                                                           type="text"
                                                           class="text-center input-acc"
                                                           maxlength="5"
                                                           [disabled]="stateBrokerTasaPension"
                                                           placeholder="0"
                                                           [(ngModel)]="broker.P_COM_PENSION_PRO"
                                                           [ngClass]="{ 'error-validate': broker.valItemPen }"
                                                           (ngModelChange)="comisionPropuesta(broker.P_COM_PENSION_PRO,row,1)"
                                                           FloatDirective />
                                                    <input *ngIf="broker.P_COM_PENSION == 0"
                                                           type="text"
                                                           class="text-center input-acc"
                                                           placeholder="0"
                                                           disabled />
                                                </td>
                                                <td class=""
                                                    *ngIf="!variable.var_isBroker || (typeTran != 'Exclusion' && !variable.var_isBroker)">
                                                    <span style="padding: 0 12px"
                                                          *ngIf="broker.BLOCK != 1"><img src="assets/icons/anular.png"
                                                             (click)="deleteBroker(row)"
                                                             title="Eliminar"
                                                             alt="Eliminar" /></span>
                                                    <span style="padding: 0 12px"
                                                          *ngIf="broker.BLOCK == 1">------</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="collapse-list">
            <div>
                <input class="collapse-open"
                       type="checkbox"
                       id="cotizacion" />
                <label class="collapse-btn title"
                       for="cotizacion">{{ variable.var_seccionDatos }}
                    <i class="fa fa-angle-down pull-right"
                       style="position: relative; top: 4px"></i></label>
                <div class="collapse-panel">
                    <div class="collapse-inner collapse-border">
                        <ng-container *ngIf="codProducto == 2">
                            <div class="row">
                                <div class="col-sm-3">
                                    <span>PRODUCTOS (*)</span>
                                    <select (change)="onSelectProducto($event.target.value)"
                                            [(ngModel)]="inputsQuotation.P_NPRODUCT"
                                            (click)="clearValidate(11)"
                                            [ngClass]="{ 'error-validate': inputsValidate[11] }"
                                            class="minimal">
                                        <option disabled
                                                value="-1">SELECCIONE</option>
                                        <option value="0"
                                                *ngIf="productList.length > 1">
                                            Ambos productos
                                        </option>
                                        <option *ngFor="let product of productList"
                                                value="{{ product.COD_PRODUCT }}">
                                            {{ product.DES_PRODUCT }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_tipRenovacion">
                                    <span>TIPO RENOVACIÓN (*)</span>
                                    <select [(ngModel)]="inputsQuotation.tipoRenovacion"
                                            name="tipoRenovacion"
                                            (ngModelChange)="habilitarFechas()"
                                            class="minimal"
                                            (click)="clearValidate(17)"
                                            [ngClass]="{ 'error-validate': inputsValidate[17] }">
                                        <option disabled
                                                value="">Seleccione</option>
                                        <option *ngFor="let renovacion of tipoRenovacion"
                                                [value]="renovacion.COD_TIPO_RENOVACION">
                                            {{ renovacion.DES_TIPO_RENOVACION }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_iniVigencia">
                                    <span>INICIO VIGENCIA (*)</span>
                                    <input type="text"
                                           #dp="bsDatepicker"
                                           (ngModelChange)="validarTipoRenovacion($event)"
                                           [bsConfig]="bsConfig"
                                           bsDatepicker
                                           [(bsValue)]="inputsQuotation.FDateIni"
                                           [(ngModel)]="inputsQuotation.FDateIni"
                                           [(minDate)]="inputsQuotation.FDateIniMin"
                                           [(maxDate)]="inputsQuotation.FDateIniFin"
                                           #desde
                                           readonly />
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_finVigencia">
                                    <span>FIN VIGENCIA</span>
                                    <input type="text"
                                           #dp="bsDatepicker"
                                           [bsConfig]="bsConfig"
                                           bsDatepicker
                                           [(ngModel)]="inputsQuotation.FDateFin"
                                           [(bsValue)]="inputsQuotation.FDateFin"
                                           [(minDate)]="bsValueFinMin"
                                           [disabled]="!tipoEspecial"
                                           value="{{ inputsQuotation.FDateFin | date: 'dd/MM/yyyy' }}"
                                           #hasta
                                           readonly />
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_frecPago">
                                    <span>FRECUENCIA PAGO</span>
                                    <select [(ngModel)]="inputsQuotation.frecuenciaPago"
                                            name="frecuenciaPago"
                                            class="minimal"
                                            (click)="clearValidate(18)"
                                            (ngModelChange)="ValidarFrecPago()"
                                            [ngClass]="{ 'error-validate': inputsValidate[18] }"
                                            [disabled]="template.ins_disabledFrecPago">
                                        <option value="">SELECCIONE</option>
                                        <option *ngFor="let frecuencia of frecuenciaPago"
                                                [value]="frecuencia.COD_TIPO_FRECUENCIA">
                                            {{ frecuencia.DES_TIPO_FRECUENCIA }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3">
                                    <span>MONEDA</span>
                                    <select [(ngModel)]="inputsQuotation.P_NCURRENCY"
                                            [disabled]="true"
                                            class="minimal">
                                        <option *ngFor="let currency of currencyList"
                                                value="{{ currency.NCODIGINT }}">
                                            {{ currency.SDESCRIPT }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_sede">
                                    <span class="mb-1">SEDE</span>
                                    <ng-select [(ngModel)]="inputsQuotation.P_NIDSEDE"
                                               (ngModelChange)="onSelectSede()"
                                               [clearable]="true"
                                               (click)="clearValidate(2)"
                                               [ngClass]="{ 'error-validate': inputsValidate[2] }"
                                               class="border-ng"
                                               [disabled]="stateQuotation"
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados"
                                               style="margin-top: 0px !important">
                                        <ng-option [value]="0">AGREGAR SEDE</ng-option>
                                        <ng-option *ngFor="let sede of sedesList"
                                                   [value]="sede.Id">{{ sede.Description }}
                                        </ng-option>
                                    </ng-select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_mina">
                                    <span>&nbsp;</span>
                                    <label style="width: 100%; margin-bottom: 0"><span class="spn-delimiter">{{
                                            inputsQuotation.P_DELIMITER
                                            }}</span></label>
                                    <label style="width: 100%; margin-bottom: 0"><input type="checkbox"
                                               [(ngModel)]="inputsQuotation.P_MINA"
                                               class="checkbox" /><span class="schk chk-mina">¿Trabajos en
                                            mina?</span></label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6"
                                     *ngIf="template.ins_actRealizar">
                                    <span class="mb-1">ACTIVIDAD A REALIZAR (*)</span>
                                    <ng-select [items]="technicalList"
                                               (change)="onSelectTechnicalActivity($event)"
                                               bindLabel="Name"
                                               [ngClass]="{ 'error-validate': inputsValidate[12] }"
                                               bindValue="Id"
                                               [(ngModel)]="inputsQuotation.P_NTECHNICAL"
                                               class="border-ng"
                                               (click)="clearValidate(12)"
                                               [clearable]="true"
                                               [disabled]="!stateQuotation"
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados"
                                               title="{{ activityMain }}">
                                        <ng-template ng-option-tmp
                                                     let-item="item">
                                            <div title="{{ item.Name }}">{{ item.Name }}</div>
                                        </ng-template>
                                    </ng-select>
                                </div>
                                <div class="col-sm-6"
                                     *ngIf="template.ins_subActividad">
                                    <span class="mb-1">SUB-ACTIVIDADES (*)</span>
                                    <ng-select [items]="economicActivityList"
                                               (change)="onSelectEconomicActivity($event)"
                                               bindLabel="Name"
                                               [ngClass]="{ 'error-validate': inputsValidate[3] }"
                                               bindValue="Id"
                                               [(ngModel)]="inputsQuotation.P_NECONOMIC"
                                               class="border-ng"
                                               (click)="clearValidate(3)"
                                               [clearable]="true"
                                               [disabled]="!stateQuotation"
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados"
                                               title="{{ subActivity }}">
                                        <ng-template ng-option-tmp
                                                     let-item="item">
                                            <div title="{{ item.Name }}">{{ item.Name }}</div>
                                        </ng-template>
                                    </ng-select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_tipoCuenta">
                                    <span>TIPO DE CUENTA</span>
                                    <select [(ngModel)]="inputsQuotation.P_SISCLIENT_GBD"
                                            [disabled]="true"
                                            class="minimal">
                                        <option value="2">PRIVADO</option>
                                        <option value="1">GOBIERNO</option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_departamento">
                                    <span class="mb-1">DEPARTAMENTO (*)</span>
                                    <ng-select [items]="departmentList"
                                               (change)="onSelectDepartment()"
                                               bindLabel="Name"
                                               bindValue="Id"
                                               [ngClass]="{ 'error-validate': inputsValidate[4] }"
                                               (click)="clearValidate(4)"
                                               class="border-ng"
                                               [(ngModel)]="inputsQuotation.P_NPROVINCE"
                                               [clearable]="true"
                                               [disabled]="!stateQuotation"
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados">
                                    </ng-select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_provincia">
                                    <span class="mb-1">PROVINCIA (*)</span>
                                    <ng-select [items]="provinceList"
                                               (change)="onSelectProvince()"
                                               bindLabel="Name"
                                               bindValue="Id"
                                               [ngClass]="{ 'error-validate': inputsValidate[5] }"
                                               (click)="clearValidate(5)"
                                               class="border-ng"
                                               [(ngModel)]="inputsQuotation.P_NLOCAL"
                                               [clearable]="true"
                                               [disabled]="!stateQuotation"
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados">
                                    </ng-select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_distrito">
                                    <span class="mb-1">DISTRITO (*)</span>
                                    <ng-select [items]="districtList"
                                               (change)="onSelectDistrict()"
                                               bindLabel="Name"
                                               bindValue="Id"
                                               [ngClass]="{ 'error-validate': inputsValidate[6] }"
                                               (click)="clearValidate(6)"
                                               class="border-ng"
                                               [(ngModel)]="inputsQuotation.P_NMUNICIPALITY"
                                               [clearable]="true"
                                               [disabled]="!stateQuotation"
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados">
                                    </ng-select>
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="codProducto == 3">
                            <div class="row">
                                <div class="col-sm-3">
                                    <span>PRODUCTOS (*)</span>
                                    <select (change)="onSelectProducto($event.target.value)"
                                            [(ngModel)]="inputsQuotation.P_NPRODUCT"
                                            [disabled]="
                                                        typeTran == 'Renovacion' ||
                                                        typeTran == 'Declaracion' ||
                                                        typeTran == 'Inclusion' ||
                                                        typeTran == 'Exclusion' ||
                                                        typeTran == 'Endoso' "
                                            (click)="clearValidate(11)"
                                            [ngClass]="{ 'error-validate': inputsValidate[11] }"
                                            class="minimal">
                                        <option disabled value="-1">SELECCIONE</option>
                                        <option value="0" *ngIf="productList.length > 1">Ambos productos</option>
                                        <option *ngFor="let product of productList"
                                                value="{{ product.COD_PRODUCT }}">{{ product.DES_PRODUCT }}
</option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_tipRenovacion">
                                    <span>TIPO RENOVACIÓN (*)</span>
                                    <select [(ngModel)]="inputsQuotation.tipoRenovacion"
                                            name="tipoRenovacion"
                                            [disabled]="
                                                typeTran == 'Declaracion' ||
                                                typeTran == 'Inclusion' ||
                                                typeTran == 'Exclusion' ||
                                                typeTran == 'Endoso' "
                                            (ngModelChange)="habilitarFechas()"
                                            class="minimal"
                                            (click)="clearValidate(17)"
                                            [ngClass]="{ 'error-validate': inputsValidate[17] }">
                                        <option disabled
                                                value="">Seleccione</option>
                                        <option *ngFor="let renovacion of tipoRenovacion"
                                                [value]="renovacion.COD_TIPO_RENOVACION">
                                            {{ renovacion.DES_TIPO_RENOVACION }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_iniVigencia">
                                    <span>INICIO VIGENCIA DE PÓLIZA (*)</span>
                                    <input type="text"
                                           #dp="bsDatepicker"
                                           (ngModelChange)="validarTipoRenovacion($event)"
                                           [disabled]="
                      typeTran == 'Renovacion' ||
                      typeTran == 'Declaracion' ||
                      typeTran == 'Inclusion' ||
                      typeTran == 'Exclusion' ||
                      typeTran == 'Endoso'
                    "
                                           [bsConfig]="bsConfig"
                                           bsDatepicker
                                           [(bsValue)]="inputsQuotation.FDateIni"
                                           [(ngModel)]="inputsQuotation.FDateIni"
                                           [(minDate)]="inputsQuotation.FDateIniMin"
                                           [(maxDate)]="inputsQuotation.FDateIniFin"
                                           #desde
                                           readonly />
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_finVigencia">
                                    <span>FIN VIGENCIA DE PÓLIZA</span>
                                    <input type="text"
                                           #dp="bsDatepicker"
                                           [bsConfig]="bsConfig"
                                           bsDatepicker
                                           [(ngModel)]="inputsQuotation.FDateFin"
                                           [(bsValue)]="inputsQuotation.FDateFin"
                                           [(minDate)]="bsValueFinMin"
                                           [disabled]="
                      !tipoEspecial ||
                      typeTran == 'Renovacion' ||
                      typeTran == 'Declaracion'
                    "
                                           value="{{ inputsQuotation.FDateFin | date: 'dd/MM/yyyy' }}"
                                           #hasta
                                           readonly />
                                </div>
                                <div class="col-sm-3">
                                    <span>MONEDA</span>
                                    <select [(ngModel)]="inputsQuotation.P_NCURRENCY"
                                            [disabled]="true"
                                            class="minimal">
                                        <option *ngFor="let currency of currencyList"
                                                value="{{ currency.NCODIGINT }}">
                                            {{ currency.SDESCRIPT }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_frecPago">
                                    <span>FRECUENCIA PAGO</span>
                                    <select [(ngModel)]="inputsQuotation.frecuenciaPago"
                                            name="frecuenciaPago"
                                            class="minimal"
                                            [disabled]="
                      typeTran == 'Declaracion' ||
                      typeTran == 'Inclusion' ||
                      typeTran == 'Exclusion' ||
                      typeTran == 'Endoso'
                    "
                                            (click)="clearValidate(18)"
                                            (ngModelChange)="ValidarFrecPago()"
                                            [ngClass]="{ 'error-validate': inputsValidate[18] }">
                                        <option value="">SELECCIONE</option>
                                        <option *ngFor="let frecuencia of frecuenciaPago"
                                                [value]="frecuencia.COD_TIPO_FRECUENCIA">
                                            {{ frecuencia.DES_TIPO_FRECUENCIA }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_iniVigenciaAseg">
                                    <span>INICIO VIGENCIA DE ASEGURADOS</span>
                                    <input type="text"
                                           #dp="bsDatepicker"
                                           [bsConfig]="bsConfig"
                                           bsDatepicker
                                           (ngModelChange)="validarExcelAseg()"
                                           [(bsValue)]="inputsQuotation.FDateIniAseg"
                                           [(ngModel)]="inputsQuotation.FDateIniAseg"
                                           [(minDate)]="inputsQuotation.FDateIniMin"
                                           [(maxDate)]="inputsQuotation.FDateIniFin"
                                           [disabled]=" typeTran == 'Renovacion' || (typeTran != 'Inclusion' && typeTran != 'Endoso') || ( typeTran == 'Endoso' && disabledEndosoFechaAseg === true ) "
                                           #desde
                                           readonly /> <!-- ENDOSO TECNICA JTV 01022023-->
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_finVigenciaAseg">
                                    <span>FIN VIGENCIA DE ASEGURADOS</span>
                                    <input type="text"
                                           #dp="bsDatepicker"
                                           [bsConfig]="bsConfig"
                                           bsDatepicker
                                           [(ngModel)]="inputsQuotation.FDateFinAseg"
                                           [(bsValue)]="inputsQuotation.FDateFinAseg"
                                           [(minDate)]="bsValueFinMin"
                                           [disabled]="true"
                                           value="{{
                      inputsQuotation.FDateFinAseg | date: 'dd/MM/yyyy'
                    }}"
                                           #hasta
                                           readonly />
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_tipoCuenta">
                                    <span>TIPO DE CUENTA</span>
                                    <select [(ngModel)]="inputsQuotation.P_SISCLIENT_GBD"
                                            [disabled]="true"
                                            class="minimal">
                                        <option value="2">PRIVADO</option>
                                        <option value="1">GOBIERNO</option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_actRealizar">
                                    <span class="mb-1">ACTIVIDAD ECONÓMICA (*)</span>
                                    <ng-select [items]="technicalList"
                                               (change)="onSelectTechnicalActivity($event)"
                                               bindLabel="Name"
                                               [ngClass]="{ 'error-validate': inputsValidate[12] }"
                                               bindValue="Id"
                                               [(ngModel)]="inputsQuotation.P_NTECHNICAL"
                                               class="border-ng"
                                               (click)="clearValidate(12)"
                                               [clearable]="true"
                                               [disabled]="
                      !stateQuotation ||
                      typeTran == 'Renovacion' ||
                      typeTran == 'Declaracion' ||
                      typeTran == 'Inclusion' ||
                      typeTran == 'Exclusion' ||
                      typeTran == 'Endoso'
                    "
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados"
                                               title="{{ activityMain }}">
                                        <ng-template ng-option-tmp
                                                     let-item="item">
                                            <div title="{{ item.Name }}">{{ item.Name }}</div>
                                        </ng-template>
                                    </ng-select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_subActividad">
                                    <span class="mb-1">CIIU (*)</span>
                                    <ng-select [items]="economicActivityList"
                                               (change)="onSelectEconomicActivity($event)"
                                               bindLabel="Name"
                                               [ngClass]="{ 'error-validate': inputsValidate[3] }"
                                               bindValue="Id"
                                               [(ngModel)]="inputsQuotation.P_NECONOMIC"
                                               class="border-ng"
                                               (click)="clearValidate(3)"
                                               [clearable]="true"
                                               [disabled]="
                      !stateQuotation ||
                      !flagdisabledCIIU && (typeTran =='Renovacion' || typeTran=='Declaracion') ||
                      typeTran == 'Inclusion' ||
                      typeTran == 'Exclusion' ||
                      typeTran == 'Endoso'
                    "
                                               placeholder="Seleccionar"
                                               dropdownPosition="bottom"
                                               notFoundText="No hay resultados"
                                               title="{{ subActivity }}">
                                        <ng-template ng-option-tmp
                                                     let-item="item">
                                            <div title="{{ item.Name }}">{{ item.Name }}</div>
                                        </ng-template>
                                    </ng-select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="typeTran == 'Endoso'">
                                    <span>TIPO DE ENDOSO</span>
                                    <select [(ngModel)]="inputsQuotation.P_NTYPE_END"
                                            name="TYPE_ENDOSO"
                                            title="TIPO DE ENDOSO"
                                            (change)="changeTipoEndoso()"
                                            class="minimal"> <!-- ENDOSO TECNICA JTV 01022023-->
                                        <option value="">SELECCIONE</option>
                                        <option *ngFor="let endoso of tipoEndoso"
                                                [value]="endoso.TYPE_ENDOSO">
                                            {{ endoso.DES_TYPE_ENDOSO }}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="typeTran == 'Exclusion' && codProducto == 3">
                                    <span>FECHA DE EXCLUSIÓN</span>
                                    <input type="text"
                                           #dp="bsDatepicker"
                                           (ngModelChange)="validarExcelExclu()"
                                           [bsConfig]="bsConfig"
                                           bsDatepicker
                                           [(bsValue)]="inputsQuotation.FechaAnulacion"
                                           [(ngModel)]="inputsQuotation.FechaAnulacion"
                                           [(minDate)]="inputsQuotation.FDateIniAseg"
                                           [(maxDate)]="inputsQuotation.FDateFinAseg"
                                           value="{{
                      inputsQuotation.FechaAnulacion | date: 'dd/MM/yyyy'
                    }}"
                                           [disabled]="false"
                                           readonly
                                           #anulacion />
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="template.ins_mina">
                                    <span>&nbsp;</span>
                                    <label style="width: 100%; margin-bottom: 0"
                                           [hidden]="codProducto == 3"><span class="spn-delimiter">{{
                                            inputsQuotation.P_DELIMITER
                                            }}</span></label>
                                    <label style="width: 100%; margin-bottom: 0"><input type="checkbox"
                                               [disabled]="
                        typeTran == 'Declaracion' ||
                        typeTran == 'Inclusion' ||
                        typeTran == 'Endoso'
                      "
                                               [(ngModel)]="inputsQuotation.P_MINA"
                                               class="checkbox" /><span class="schk chk-mina">¿Trabajos en
                                            mina?</span></label>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="perfilActual == 7 && flagGobiernoEstado == true">
                                    <span>&nbsp;</span>
                                    <small>&nbsp;</small>
                                    <label style="width: 100%; margin-bottom: 0">
                                        <input type="checkbox"
                                               [disabled]="
                        typeTran == 'Declaracion' ||
                        typeTran == 'Inclusion' ||
                        typeTran == 'Endoso' ||
                        typeTran == 'Exclusion'
                      "
                                               [(ngModel)]="inputsQuotation.P_NPOLICY_MAT"
                                               (change)="polizaMatriz($event)"
                                               class="checkbox" />
                                        <span class="schk chk-mina">¿Póliza Matriz?</span>
                                    </label>
                                </div>
                                <div class="col-sm-3"
                                     *ngIf="perfil != perfilActual">
                                    <span>&nbsp;</span>
                                    <small>&nbsp;</small>
                                    <label style="width: 100%; margin-bottom: 0">
                                        <input type="checkbox"
                                               [disabled]="!flagExc"
                                               [(ngModel)]="inputsQuotation.P_NREM_EXC"
                                               (change)="validarExcel(null, 1)"
                                               class="checkbox" />
                                        <span class="schk chk-mina">¿Sin tope de ley?</span>
                                    </label>
                                </div>
                                <div class="col-sm-3">
                                    <div class="col"
                                         *ngIf="flagGobiernoEstado">
                                        <span>
                                            * SI REQUIERE ENVIAR EL TRÁMITE AL EJECUTIVO COMERCIAL,
                                            FAVOR DE ACTIVAR EL INDICADOR</span>
                                        <label style="width: 100%; margin-bottom: 0">
                                            <input type="checkbox"
                                                   [(ngModel)]="inputsQuotation.P_APROB_CLI"
                                                   (change)="aprobacionCliente($event)"
                                                   class="checkbox" />
                                            <span class="schk chk-mina">APROBACIÓN EJECUTIVO COMERCIAL</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
        <div class="collapse-list"
             *ngIf="codProducto == '3' && flagGobiernoEstado == true">
            <div>
                <input class="collapse-open"
                       type="checkbox"
                       id="planilla" />
                <label class="collapse-btn title"
                       for="planilla">Datos de correo de ejecutivo comercial<i class="fa fa-angle-down pull-right"
                       style="position: relative; top: 4px"></i></label>
                <div class="collapse-panel">
                    <div class="collapse-inner collapse-border">
                        <div class="row">
                            <div class="col-md-4">
                                <span>Correo electrónico (*)</span>
                                <input type="text"
                                       [(ngModel)]="inputsQuotation.SMAIL_EJECCOM"
                                       [disabled]="!flagAprobCli"
                                       placeholder="Correo electrónico" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <span>EL CORREO INGRESADO EN ESTA SECCIÓN, SE CONSIDERARÁ PARA EL
                                    ENVÍO DEL TRAMITE A EVALUAR PARA LAS TRANSACCIONES.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="collapse-list"
             *ngIf="template.ins_trama">
            <div [hidden]="flagGobiernoEstado == true">
                <input class="collapse-open"
                       type="checkbox"
                       id="planilla" />
                <label class="collapse-btn title"
                       for="planilla">Datos de Trama
                    <i class="fa fa-angle-down pull-right"
                       style="position: relative; top: 4px"></i></label>
                <div class="collapse-panel">
                    <div class="collapse-inner collapse-border">
                        <div class="row">
                            <div class="col-sm-3"
                                 *ngIf="template.ins_comision">
                                <label class="mb-0"><span>TARIFA (*)</span></label>
                                <!--<select (change)="onSelectComision($event.target.value)"
                                        [(ngModel)]="inputsQuotation.P_COMISION"
                                        (click)="clearValidate(16)"
                                        [ngClass]="{ 'error-validate': inputsValidate[16] }"
                                        class="minimal"
                                        [disabled]="canTasaVL ||
                                                    typeTran == 'Declaracion' ||
                                                    typeTran == 'Inclusion' ||
                                                    typeTran == 'Endoso'">
                                    <option value="">SELECCIONE</option>
                                    <option *ngFor="let comision of comisionList"
                                            value="{{ comision.idComision }}">
                                        {{ comision.nroComision }}
                                    </option>
                                </select>-->
                                <select (change)="onSelectComision(ComisionObjeto)"
                                        [(ngModel)]="ComisionObjeto"
                                        (click)="clearValidate(16)"
                                        [ngClass]="{ 'error-validate': inputsValidate[16] }"
                                        class="minimal"
                                        [disabled]="canTasaVL ||
                                                    typeTran == 'Declaracion' ||
                                                    typeTran == 'Inclusion' ||
                                                    typeTran == 'Endoso'">
                                    <option value="">SELECCIONE</option>
                                    <option *ngFor="let comision of comisionList"
                                            [ngValue]="comision">
                                        {{ comision.nroComision }}
                                    </option>
                                </select>
                            </div>
                            
                            <div *ngIf="template.ins_trama && flagPolizaMat == false"
                                [ngClass]="template.ins_comision ? 'col-sm-3' : 'col-sm-9'">
                                <span>TRAMA (*)</span>
                                <input [ngClass]="{ 'error-validate': errorExcel }"
                                       type="file"
                                       class="mt-10"
                                       onclick="this.value=null;"
                                       (change)="seleccionExcel($event.target.files[0])"
                                       [(ngModel)]="archivoExcel"
                                       accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                                       style="
                                              position: relative;
                                              top: 8px;
                                              margin: 5px 0px;
                                              font-size: 16px !important;
                                              width: 100%;"
                                       (filesChange)="lastFileAt = getDate()" />
                            </div>
                            <div *ngIf="template.ins_trama && flagPolizaMat == false"
                                 class="col-sm-3">
                                <span>&nbsp;</span>
                                <button type="button"
                                        style="display: inline-block"
                                        (click)="validarExcel(null)">
                                    <span>Validar</span>
                                </button>
                            </div>

                            <div *ngIf="template.ins_trama && flagPolizaMat == false"
                                 [ngClass]="template.ins_comision ? 'col-sm-3' : 'col-sm-3'">
                                <span>PLANTILLA (*)</span>
                                <button class="formatoTrama" 
                                        (click)="formatoTrama()"
                                        style = "position: relative;
                                                 top: 1px;
                                                 margin: 5px 0px">
                                    <i class="fa fa-download mr-2" aria-hidden="true"></i>
                                    Descargar Formato
                                </button>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Validador de trama cliente Estado VL-->
        <div class="collapse-list"
             *ngIf="template.ins_trama && flagPolizaMat == false">
            <div *ngIf="flagGobiernoEstado == true">
                <input class="collapse-open"
                       type="checkbox"
                       id="planilla" />
                <label class="collapse-btn title"
                       for="planilla">Datos de Trama
                    <i class="fa fa-angle-down pull-right"
                       style="position: relative; top: 4px"></i></label>
                <div class="collapse-panel">
                    <div class="collapse-inner collapse-border">
                        <div class="row">
                            <div class="col-sm-3"
                                 *ngIf="template.ins_comision">
                                <label class="mb-0"><span>TARIFA (*)</span></label>
                                <!--<select (change)="onSelectComision($event.target.value)"
                                        [(ngModel)]="inputsQuotation.P_COMISION"
                                        (click)="clearValidate(16)"
                                        [ngClass]="{ 'error-validate': inputsValidate[16] }"
                                        class="minimal"
                                        [disabled]="
                                                    canTasaVL ||
                                                    typeTran == 'Declaracion' ||
                                                    typeTran == 'Inclusion'
                                                ">
                                    <option value="">SELECCIONE</option>
                                    <option *ngFor="let comision of comisionList"
                                            value="{{ comision.idComision }}">
                                        {{ comision.nroComision }}
                                    </option>
                                </select> -->
                                <select (change)="onSelectComision(ComisionObjeto)"
                                        [(ngModel)]="ComisionObjeto"
                                        (click)="clearValidate(16)"
                                        [ngClass]="{ 'error-validate': inputsValidate[16] }"
                                        class="minimal"
                                        [disabled]="
                                                    canTasaVL ||
                                                    typeTran == 'Declaracion' ||
                                                    typeTran == 'Inclusion'
                                                ">
                                    <option value="">SELECCIONE</option>
                                    <option *ngFor="let comision of comisionList"
                                            [ngValue]="comision">
                                        {{ comision.nroComision }}
                                    </option>
                                </select> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Exclude VidaLey-->
        <div class="collapse-list"
             *ngIf="typeTran == 'Exclusion' && codProducto == '3'">
            <div>
                <input class="collapse-open"
                       type="checkbox"
                       id="anulacion" />
                <label class="collapse-btn title"
                       for="anulacion">Datos de exclusión de los asegurados
                    <i class="fa fa-angle-down pull-right"
                       style="position: relative; top: 4px"></i></label>
                <div class="collapse-panel">
                    <div class="collapse-inner collapse-border">
                        <div class="row">
                            <div class="col-sm-3">
                                <label><span>TIPO DE DEVOLUCIÓN:</span></label>
                                <label style="margin-left: 5px">Mensual</label>
                            </div>
                            <div class="col-sm-3">
                                <label *ngIf="typeTran == 'Exclusion'"
                                       style="width: 100%; margin-bottom: 0"><input type="checkbox"
                                           [(ngModel)]="inputsQuotation.primaCobrada"
                                           (ngModelChange)="primaCobradaChange()"
                                           name="prima_cobrada"
                                           class="checkbox" /><span class="schk"
                                          style="margin-top: 15px; font-size: 13px">¿DEVOLVER A PRIMA
                                        COBRADA?</span></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="collapse-list">
            <div>
                <input class="collapse-open"
                       type="checkbox"
                       id="calculadora" />
                <label class="collapse-btn title"
                       for="calculadora">Cotizador
                    <i class="fa fa-angle-down pull-right"
                       style="position: relative; top: 4px"></i></label>
                <div class="collapse-panel">
                    <div class="collapse-inner collapse-border">
                        <div class="row"
                             *ngIf="flagGobiernoEstado == false">
                            <div [ngClass]="template.ins_tasasWith ? 'col-sm-12' : 'col-sm-9'">
                                <table class="table table-borderless riesgo" style="border: 2px solid #73809C;"  *ngIf=" template.ins_mostrarTasas || template.ins_categoriaList ">
                                    <thead>
                                        <tr class="d-flex" style="background-color: #F29744; color: white;border-bottom: 4px solid #73809C;" >
                                            <th class="col-sm text-center" style="vertical-align: middle !important; ">
                                                <span style="font-weight: 100">{{ variable.var_tblTasasTitutoCol1}}</span>
                                            </th>
                                            <!-- GCAA 29/09/2023 -->
                                            <th class="col-sm text-center">
                                                <span style="font-weight: 100">Rango de Edad</span>
                                            </th>
                                            <!-- FIN GCAA 29/09/2023 -->
                                            <th class="col-sm text-center">
                                                <span style="font-weight: 100">{{variable.var_tblTasasTitutoCol2}}</span>
                                            </th>
                                            <th class="col-sm text-center">
                                                <span style="font-weight: 100">{{variable.var_tblTasasTitutoCol3Cot}}</span>
                                            </th>
                                            <th *ngIf="template.ins_categoriaList && typeTran != 'Endoso'" class="col-sm text-center">
                                                <span style="font-weight: 100">{{variable.var_tblTasasTitutoCol4}}</span>
                                            </th>
                                            <th *ngIf="template.ins_categoriaList && typeTran != 'Endoso'" class="col-sm text-center">
                                                <span  style="font-weight: 100">Tasa Propuesta %</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody *ngIf="template.ins_categoriaList" >
                                        <tr class="d-flex" *ngIf="categoryList.length == 0">
                                            <td class="col-sm text-center">No hay tasas</td>
                                        </tr>
                                        <tr class="d-flex" *ngFor="let item of categoryList; let i = index">
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35" style="border-left: 0.5px solid #73809C;"><span>{{ item.SCATEGORIA_view }}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35" style="border-left: 0.5px solid #73809C;border-bottom: 3.0px solid #73809C;"><span>{{ item.SCATEGORIA_view }}</span></td>
                                            
                                            <!--
                                                
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.SCATEGORIA_view =='' && i != 11 && i != 0" style="border-left: 0.5px solid #ddd;border-left: 0.5px solid #ddd"><span>{{ item.SCATEGORIA_view }}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.SCATEGORIA_view =='' && i == 11 && i != 0" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd"><span>{{ item.SCATEGORIA_view }}</span></td>
                                            -->

                                            <!--GCAA 28/09/2023-->
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA == 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd"><span>{{item.SRANGO_EDAD}}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA > 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd; background-color: #F2F2F2;"><span>{{item.SRANGO_EDAD}}</span></td>
                                            
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA > 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd; background-color: #F2F2F2;"><span>{{item.SRANGO_EDAD}}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA == 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd;"><span>{{item.SRANGO_EDAD}}</span></td>



                                            <!--FIN GCAA 28/09/2023-->
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA == 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd"><span>{{ item.NCOUNT }}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA > 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd; background-color: #F2F2F2;"><span>{{ item.NCOUNT }}</span></td>                                            
                                           
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA > 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd; background-color: #F2F2F2;"><span>{{ item.NCOUNT }}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA == 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd;"><span>{{ item.NCOUNT }}</span></td>


                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA == 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd"><span>{{ item.NTOTAL_PLANILLA | prettyNumber: 2}}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA > 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd;background-color: #F2F2F2;"><span>{{ item.NTOTAL_PLANILLA | prettyNumber: 2}}</span></td>                                            
                                            
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA  > 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd;background-color: #F2F2F2;"><span>{{ item.NTOTAL_PLANILLA | prettyNumber: 2}}</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && item.NTOTAL_PLANILLA  == 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i == 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd;"><span>{{ item.NTOTAL_PLANILLA | prettyNumber: 2}}</span></td>



                                            <td class="col-sm text-center" *ngIf="item.sactive == true && typeTran != 'Endoso' && item.NTOTAL_PLANILLA  == 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd"><span>{{ item.NTASA | prettyNumber: 6 }} %</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && typeTran != 'Endoso' && item.NTOTAL_PLANILLA  > 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd;background-color: #F2F2F2;"><span>{{ item.NTASA | prettyNumber: 6 }} %</span></td>
                                            
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && typeTran != 'Endoso' && item.NTOTAL_PLANILLA  > 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd;background-color: #F2F2F2;"><span>{{ item.NTASA | prettyNumber: 6 }} %</span></td>
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && typeTran != 'Endoso' && item.NTOTAL_PLANILLA  == 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i == 35)" style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd;"><span>{{ item.NTASA | prettyNumber: 6 }} %</span></td>




                                            <td class="col-sm text-center" *ngIf="item.sactive == true && typeTran != 'Exclusión' && typeTran != 'Endoso' && item.NTOTAL_PLANILLA > 0  && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35 )" 
                                                style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd; border-right: 0.5px solid #ddd ">
                                                <input style="width: 70% !important; height: 100% !important"
                                                       type="text"
                                                       class="text-right"
                                                       [checked]="false"
                                                       placeholder="0"
                                                       FloatSixDirective
                                                       maxlength="12"
                                                       [(ngModel)]="item.ProposalRate"
                                                       (blur)="changeRateProposed()"
                                                       (keyup.enter)="changeRateProposed()"
                                                       [disabled]="disTasaProp" />
                                            </td>              
                                            
                                            <td class="col-sm text-center" *ngIf="item.sactive == true && typeTran != 'Exclusión' && typeTran != 'Endoso' && item.NTOTAL_PLANILLA > 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" 
                                                style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd; border-right: 0.5px solid #ddd ">
                                                <input style="width: 70% !important; height: 100% !important"
                                                       type="text"
                                                       class="text-right"
                                                       [checked]="false"
                                                       placeholder="0"
                                                       FloatSixDirective
                                                       maxlength="12"
                                                       [(ngModel)]="item.ProposalRate"
                                                       (blur)="changeRateProposed()"
                                                       (keyup.enter)="changeRateProposed()"
                                                       [disabled]="disTasaProp" />
                                            </td>                                        


                                            <td class="col-sm text-center" *ngIf="item.NTOTAL_PLANILLA == 0 && (i != 5 && i != 11 && i != 17 && i != 23 && i != 29 && i != 35)" 
                                            style="border-bottom: 0.5px solid #ddd;border-left: 0.5px solid #ddd; border-right: 0.5px solid #ddd">
                                                <input style="width: 70% !important; height: 100% !important; border-style: none; color: #fff ;"
                                                    type="text"
                                                    placeholder=""
                                                    value="0"
                                                    class="text-right"
                                                    readonly />
                                            </td>

                                            <td class="col-sm text-center" *ngIf="item.NTOTAL_PLANILLA == 0 && (i == 5 || i == 11 || i == 17 || i == 23 || i == 29 || i== 35)" 
                                            style="border-bottom: 2.5px solid #73809C;border-left: 0.5px solid #ddd; border-right: 0.5px solid #ddd">
                                                <input style="width: 70% !important; height: 100% !important; border-style: none; color: #fff ;"
                                                    type="text"
                                                    placeholder=""
                                                    value="0"
                                                    class="text-right"
                                                    readonly />
                                            </td>

                                        </tr>
                                    </tbody>
                                     
                                    <tbody *ngIf="template.ins_tasasList">
                                        <tr class="d-flex" *ngIf="tasasList.length == 0">
                                            <td class="col-sm-12 text-center" style="padding: 0.5rem !important">
                                                <label>No hay tasas</label>
                                            </td>
                                        </tr>
                                        <tr class="d-flex" *ngFor="let tasa of tasasList; let row = index">
                                            <td *ngIf="tasa.status == 1" class="col-sm" style="padding: 0.5rem !important">
                                                <span>{{ tasa.description }}</span>
                                            </td>
                                            <td *ngIf="tasa.status == 1" class="col-sm text-center" style="padding: 0.5rem !important">
                                                <input type="text"
                                                       placeholder="0"
                                                       [(ngModel)]="tasa.totalWorkes"
                                                       maxlength="9"
                                                       (ngModelChange)="
                                                        volverCotizar(tasa.totalWorkes, tasa.id, row, 1)"
                                                       [disabled]="disabledFlat[row].value"
                                                       OnlyNumberDirective 
                                                />
                                            </td>
                                            <td *ngIf="tasa.status == 1" class="col-sm" style="padding: 0.5rem !important">
                                                <input type="text"
                                                       placeholder="0"
                                                       [(ngModel)]="tasa.planilla"
                                                       maxlength="11"
                                                       (ngModelChange)="
                                                        volverCotizar(tasa.planilla, tasa.id, row, 2)"
                                                       [disabled]="disabledFlat[row].value"
                                                       FloatDirective 
                                                />
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-sm-6"  style="padding: 10px 0 15px" *ngIf="template.ins_calcTasas">
                                <button *ngIf="tasasList.length > 0"  type="button" style="display: inline-block; position: absolute; bottom: 24px; " (click)="calcularTarifa()">
                                    <span>Calcular</span>
                                </button>
                            </div>
                            <div class="col-sm-3" hidden *ngIf="template.ins_tasasPlanList">
                                <table class="table table-borderless riesgo" [hidden]="rateByPlanList?.length == 0">
                                    <thead>
                                        <tr class="d-flex" style="border-bottom: 1px solid #ddd">
                                            <th class="col-sm-12 text-center"><label style="font-weight: 100">Flat</label></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="d-flex" *ngIf="rateByPlanList.length == 0">
                                            <td class="col-sm text-center">No hay tasas</td>
                                        </tr>
                                        <tr class="d-flex" *ngFor="let item of rateByPlanList; let i = index">
                                            <td class="col-sm text-center" *ngIf="item.sactive == true"><span>{{ item.NTASA }} %</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div [hidden]="rateByPlanList.length == 0">
                                    <button [hidden]="btnCotiza"
                                            class="btnCotiza-VL"
                                            (click)="this.validarExcel(99)">
                                        Cotizar Flat
                                    </button>
                                    <button [hidden]="btnNormal"
                                            class="btnCotiza-VL"
                                            (click)="this.validarExcel(100)">
                                        Cotizar Normal
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div *ngIf="typeGobiernoMatriz == true">
                                    <table class="table table-borderless riesgo">
                                        <thead>
                                            <tr class="d-flex"
                                                style="border-bottom: 1px solid #ddd">
                                                 <!-- GCAA 22112023 CUANDO ES POLIZA MATRIZ -->
                                                <th class="col-sm">
                                                    <label style="font-weight: 100">Cátegoria</label>
                                                </th>
                                                 <!-- GCAA 22112023 -->
                                                 <!--<th class="col-sm">
                                                    <label style="font-weight: 100">Rango de Edad</label>
                                                </th>v-->
                                                <th class="col-sm text-center">
                                                    <label style="font-weight: 100">Total Trabajadores</label>
                                                </th>
                                                <th class="col-sm text-center">
                                                    <label style="font-weight: 100">Monto Planilla</label>
                                                </th>
                                                <th class="col-sm text-center">
                                                    <label style="font-weight: 100">Tasa</label>
                                                </th>
                                                <th class="col-sm text-center">
                                                    <label style="font-weight: 100">Monto por cobrar sin IGV</label>
                                                </th>
                                                <th class="col-sm text-center">
                                                    <label style="font-weight: 100">Monto por Frecuencia sin IGV</label>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                             <!-- GCAA EMPLEADOS -->
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>EMPLEADOS</span></td>
                                                <!--<td class="col-sm text-center"><span>18-36</span></td>-->
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputEMP_18_36" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputEMP_18_36"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(1)"
                                                           (keyup.enter)="changeMontoSinIGV(1)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputEMP_18_36)"
                                                           [(ngModel)]="tasainputEMP_18_36"
                                                           (blur)="changeMontoSinIGV(1)"
                                                           (keyup.enter)="changeMontoSinIGV(1)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVEMP_18_36"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVEMP_18_36"
                                                           disabled />
                                                </td>
                                            </tr>


                                            <!--37-55
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>EMPLEADOS</span></td>
                                                <td class="col-sm text-center"><span>37-55</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                        [(ngModel)]="countinputEMP_37_55" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                        [(ngModel)]="planillainputEMP_37_55"
                                                        decimal="1.0-6"
                                                        (blur)="changeMontoSinIGV(1111)"
                                                        (keyup.enter)="changeMontoSinIGV(1111)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="10"
                                                        (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputEMP_37_55)"
                                                        [(ngModel)]="tasainputEMP_37_55"
                                                        (blur)="changeMontoSinIGV(1111)"
                                                        (keyup.enter)="changeMontoSinIGV(1111)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="MontoSinIGVEMP_37_55"
                                                        decimal="1.0-6"
                                                        (blur)="changeFPMontoSinIGV()"
                                                        (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="20"
                                                        [(ngModel)]="MontoFPSinIGVEMP_37_55"
                                                        disabled />
                                                </td>
                                            </tr>-->
                                            <!--FIN 37-55


                                            <tr class="d-flex">
                                                <td class="col-sm"><span>EMPLEADOS</span></td>
                                                <td class="col-sm text-center"><span>56-63</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputEMP_56_63" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputEMP_56_63"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(11)"
                                                           (keyup.enter)="changeMontoSinIGV(11)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputEMP_56_63)"
                                                           [(ngModel)]="tasainputEMP_56_63"
                                                           (blur)="changeMontoSinIGV(11)"
                                                           (keyup.enter)="changeMontoSinIGV(11)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVEMP_56_63"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVEMP_56_63"
                                                           disabled />
                                                </td>
                                            </tr>-->


                                            <!--64-70
                                            <tr  class="d-flex">
                                                <td class="col-sm"><span>EMPLEADOS</span></td>
                                                <td class="col-sm text-center"><span>64-70</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                        [(ngModel)]="countinputEMP_64_70" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                        [(ngModel)]="planillainputEMP_64_70"
                                                        decimal="1.0-6"
                                                        (blur)="changeMontoSinIGV(11111)"
                                                        (keyup.enter)="changeMontoSinIGV(11111)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="10"
                                                        (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputEMP_64_70)"
                                                        [(ngModel)]="tasainputEMP_64_70"
                                                        (blur)="changeMontoSinIGV(11111)"
                                                        (keyup.enter)="changeMontoSinIGV(11111)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="MontoSinIGVEMP_64_70"
                                                        decimal="1.0-6"
                                                        (blur)="changeFPMontoSinIGV()"
                                                        (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="20"
                                                        [(ngModel)]="MontoFPSinIGVEMP_64_70"
                                                        disabled />
                                                </td>
                                            </tr>-->
                                            <!--FIN 64-70


                                            <tr  class="d-flex">
                                                <td class="col-sm"><span>EMPLEADOS</span></td>
                                                <td class="col-sm text-center"><span>71-80</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputEMP_71_80" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputEMP_71_80"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(111)"
                                                           (keyup.enter)="changeMontoSinIGV(111)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputEMP_71_80)"
                                                           [(ngModel)]="tasainputEMP_71_80"
                                                           (blur)="changeMontoSinIGV(111)"
                                                           (keyup.enter)="changeMontoSinIGV(111)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVEMP_71_80"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVEMP_71_80"
                                                           disabled />
                                                </td>
                                            </tr>-->


                                            <!--81-99
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>EMPLEADOS</span></td>
                                                <td class="col-sm text-center"><span>81-99</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        OnlyNumberDirective
                                                        maxlength="20"
                                                        [(ngModel)]="countinputEMP_81_99" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="planillainputEMP_81_99"
                                                        decimal="1.0-6"
                                                        (blur)="changeMontoSinIGV(111111)"
                                                        (keyup.enter)="changeMontoSinIGV(111111)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="10"
                                                        (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputEMP_81_99)"
                                                        [(ngModel)]="tasainputEMP_81_99"
                                                        (blur)="changeMontoSinIGV(111111)"
                                                        (keyup.enter)="changeMontoSinIGV(111111)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important; height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="MontoSinIGVEMP_81_99"
                                                        decimal="1.0-6"
                                                        (blur)="changeFPMontoSinIGV()"
                                                        (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="20"
                                                        [(ngModel)]="MontoFPSinIGVEMP_81_99"
                                                        disabled />
                                                </td>
                                            </tr>-->
                                            <!--FIN 81-99-->




                                            <!--FIN GCAA EMPLEADOS -->
                                            <!-- GCAA OBREROS -->
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO</span></td>
                                                <!-- <td class="col-sm text-center"><span>18-36</span></td>-->
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOBR_18_36" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOBR_18_36"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(2)"
                                                           (keyup.enter)="changeMontoSinIGV(2)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOBR_18_36)"
                                                           [(ngModel)]="tasainputOBR_18_36"
                                                           (blur)="changeMontoSinIGV(2)"
                                                           (keyup.enter)="changeMontoSinIGV(2)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOBR_18_36"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOBR_18_36"
                                                           disabled />
                                                </td>
                                            </tr>

                                            <!-- 37-55   
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO</span></td>
                                                <td class="col-sm text-center"><span>37-55</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOBR_37_55" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOBR_37_55"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(2222)"
                                                           (keyup.enter)="changeMontoSinIGV(2222)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOBR_37_55)"
                                                           [(ngModel)]="tasainputOBR_37_55"
                                                           (blur)="changeMontoSinIGV(2222)"
                                                           (keyup.enter)="changeMontoSinIGV(2222)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOBR_37_55"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOBR_37_55"
                                                           disabled />
                                                </td>
                                            </tr>--> 
                                            <!--FIN 37-55    

                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO</span></td>
                                                <td class="col-sm text-center"><span>56-63</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOBR_56_63" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOBR_56_63"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(22)"
                                                           (keyup.enter)="changeMontoSinIGV(22)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOBR_56_63)"
                                                           [(ngModel)]="tasainputOBR_56_63"
                                                           (blur)="changeMontoSinIGV(22)"
                                                           (keyup.enter)="changeMontoSinIGV(22)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOBR_56_63"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOBR_56_63"
                                                           disabled />
                                                </td>
                                            </tr>-->

                                            <!--64-70 
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO</span></td>
                                                <td class="col-sm text-center"><span>64-70</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        OnlyNumberDirective
                                                        maxlength="20"
                                                        [(ngModel)]="countinputOBR_64_70" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="planillainputOBR_64_70"
                                                        decimal="1.0-6"
                                                        (blur)="changeMontoSinIGV(22222)"
                                                        (keyup.enter)="changeMontoSinIGV(22222)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="10"
                                                        (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOBR_64_70)"
                                                        [(ngModel)]="tasainputOBR_64_70"
                                                        (blur)="changeMontoSinIGV(22222)"
                                                        (keyup.enter)="changeMontoSinIGV(22222)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="MontoSinIGVOBR_64_70"
                                                        decimal="1.0-6"
                                                        (blur)="changeFPMontoSinIGV()"
                                                        (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="20"
                                                        [(ngModel)]="MontoFPSinIGVOBR_64_70"
                                                        disabled />
                                                </td>
                                            </tr>-->   
                                            <!--FIN 64-70



                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO</span></td>
                                                <td class="col-sm text-center"><span>71-80</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOBR_71_80" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOBR_71_80"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(222)"
                                                           (keyup.enter)="changeMontoSinIGV(222)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOBR_71_80)"
                                                           [(ngModel)]="tasainputOBR_71_80"
                                                           (blur)="changeMontoSinIGV(222)"
                                                           (keyup.enter)="changeMontoSinIGV(222)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOBR_71_80"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOBR_71_80"
                                                           disabled />
                                                </td>
                                            </tr>-->

                                            <!--81-99    
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO</span></td>
                                                <td class="col-sm text-center"><span>81-99</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        OnlyNumberDirective
                                                        maxlength="20"
                                                        [(ngModel)]="countinputOBR_81_99" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="planillainputOBR_81_99"
                                                        decimal="1.0-6"
                                                        (blur)="changeMontoSinIGV(222222)"
                                                        (keyup.enter)="changeMontoSinIGV(222222)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="10"
                                                        (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOBR_81_99)"
                                                        [(ngModel)]="tasainputOBR_81_99"
                                                        (blur)="changeMontoSinIGV(222222)"
                                                        (keyup.enter)="changeMontoSinIGV(222222)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="MontoSinIGVOBR_81_99"
                                                        decimal="1.0-6"
                                                        (blur)="changeFPMontoSinIGV()"
                                                        (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="20"
                                                        [(ngModel)]="MontoFPSinIGVOBR_81_99"
                                                        disabled />
                                                </td>
                                            </tr>-->
                                            <!--FIN 81-99-->

                                            <!-- FIN GCAA OBREROS -->
                                            <!-- GCAA OBREROS ALTO RIESGO -->

                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO ALTO RIESGO</span></td>
                                                <!--<td class="col-sm text-center"><span>18-36</span></td>-->
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOAR_18_36" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOAR_18_36"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(3)"
                                                           (keyup.enter)="changeMontoSinIGV(3)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOAR_18_36)"
                                                           [(ngModel)]="tasainputOAR_18_36"
                                                           (blur)="changeMontoSinIGV(3)"
                                                           (keyup.enter)="changeMontoSinIGV(3)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOAR_18_36"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOAR_18_36"
                                                           disabled />
                                                </td>
                                            </tr>

                                            <!--37-55
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO ALTO RIESGO</span></td>
                                                <td class="col-sm text-center"><span>37-55</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOAR_37_55" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOAR_37_55"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(3333)"
                                                           (keyup.enter)="changeMontoSinIGV(3333)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOAR_37_55)"
                                                           [(ngModel)]="tasainputOAR_37_55"
                                                           (blur)="changeMontoSinIGV(3333)"
                                                           (keyup.enter)="changeMontoSinIGV(3333)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOAR_37_55"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOAR_37_55"
                                                           disabled />
                                                </td>
                                            </tr>-->
                                            <!--FIN 37-55

                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO ALTO RIESGO</span></td>
                                                <td class="col-sm text-center"><span>56-63</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOAR_56_63" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOAR_56_63"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(33)"
                                                           (keyup.enter)="changeMontoSinIGV(33)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOAR_56_63)"
                                                           [(ngModel)]="tasainputOAR_56_63"
                                                           (blur)="changeMontoSinIGV(33)"
                                                           (keyup.enter)="changeMontoSinIGV(33)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOAR_56_63"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOAR_56_63"
                                                           disabled />
                                                </td>
                                            </tr>-->

                                            <!--64-70
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO ALTO RIESGO</span></td>
                                                <td class="col-sm text-center"><span>64-70</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        OnlyNumberDirective
                                                        maxlength="20"
                                                        [(ngModel)]="countinputOAR_64_70" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="planillainputOAR_64_70"
                                                        decimal="1.0-6"
                                                        (blur)="changeMontoSinIGV(33333)"
                                                        (keyup.enter)="changeMontoSinIGV(33333)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="10"
                                                        (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOAR_64_70)"
                                                        [(ngModel)]="tasainputOAR_64_70"
                                                        (blur)="changeMontoSinIGV(33333)"
                                                        (keyup.enter)="changeMontoSinIGV(33333)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="MontoSinIGVOAR_64_70"
                                                        decimal="1.0-6"
                                                        (blur)="changeFPMontoSinIGV()"
                                                        (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="20"
                                                        [(ngModel)]="MontoFPSinIGVOAR_64_70"
                                                        disabled />
                                                </td>
                                            </tr>-->
                                            <!--FIN 64-70



                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO ALTO RIESGO</span></td>
                                                <td class="col-sm text-center"><span>71-80</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOAR_71_80" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOAR_71_80"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(333)"
                                                           (keyup.enter)="changeMontoSinIGV(333)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOAR_71_80)"
                                                           [(ngModel)]="tasainputOAR_71_80"
                                                           (blur)="changeMontoSinIGV(333)"
                                                           (keyup.enter)="changeMontoSinIGV(333)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOAR_71_80"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOAR_71_80"
                                                           disabled />
                                                </td>
                                            </tr>-->

                                            <!--81-99
                                            <tr class="d-flex">
                                                <td class="col-sm"><span>OBRERO ALTO RIESGO</span></td>
                                                <td class="col-sm text-center"><span>81-99</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        OnlyNumberDirective
                                                        maxlength="20"
                                                        [(ngModel)]="countinputOAR_81_99" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="planillainputOAR_81_99"
                                                        decimal="1.0-6"
                                                        (blur)="changeMontoSinIGV(333333)"
                                                        (keyup.enter)="changeMontoSinIGV(333333)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="10"
                                                        (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOAR_81_99)"
                                                        [(ngModel)]="tasainputOAR_81_99"
                                                        (blur)="changeMontoSinIGV(333333)"
                                                        (keyup.enter)="changeMontoSinIGV(333333)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="21"
                                                        [(ngModel)]="MontoSinIGVOAR_81_99"
                                                        decimal="1.0-6"
                                                        (blur)="changeFPMontoSinIGV()"
                                                        (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                        type="text"
                                                        class="text-right"
                                                        [checked]="false"
                                                        placeholder="0"
                                                        FloatSixDirective
                                                        maxlength="20"
                                                        [(ngModel)]="MontoFPSinIGVOAR_81_99"
                                                        disabled />
                                                </td>
                                            </tr>-->
                                            <!--FIN 81-99-->


                                            <!-- FIN GCAA OBREROS ALTO RIESGO -->


                                            <tr class="d-flex" *ngIf="flagActivateExc == 1">
                                                <td class="col-sm"><span>EMPLEADO EXCEDENTE</span></td>
                                                <td class="col-sm"><span> </span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputEE" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputEE"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(4)"
                                                           (keyup.enter)="changeMontoSinIGV(4)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputEE)"
                                                           [(ngModel)]="tasainputEE"
                                                           (blur)="changeMontoSinIGV(4)"
                                                           (keyup.enter)="changeMontoSinIGV(4)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVEE"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVEE"
                                                           disabled />
                                                </td>
                                            </tr>
                                            <tr class="d-flex" *ngIf="flagActivateExc == 1">
                                                <td class="col-sm"><span>OBRERO EXCEDENTE</span></td>
                                                <td class="col-sm"><span></span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOE" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOE"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(5)"
                                                           (keyup.enter)="changeMontoSinIGV(5)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOE)"
                                                           [(ngModel)]="tasainputOE"
                                                           (blur)="changeMontoSinIGV(5)"
                                                           (keyup.enter)="changeMontoSinIGV(5)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOE"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOE"
                                                           disabled />
                                                </td>
                                            </tr>
                                            <tr class="d-flex" *ngIf="flagActivateExc == 1">
                                                <td class="col-sm"><span>OBRERO ALTO RIESGO EXCEDENTE </span></td>
                                                <td class="col-sm"><span> </span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           OnlyNumberDirective
                                                           maxlength="20"
                                                           [(ngModel)]="countinputOARE" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="planillainputOARE"
                                                           decimal="1.0-6"
                                                           (blur)="changeMontoSinIGV(6)"
                                                           (keyup.enter)="changeMontoSinIGV(6)" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="10"
                                                           (keypress)="validarDecimalPorcentage('1,2','0,6',tasainputOARE)"
                                                           [(ngModel)]="tasainputOARE"
                                                           (blur)="changeMontoSinIGV(6)"
                                                           (keyup.enter)="changeMontoSinIGV(6)" />
                                                    &nbsp; %
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           [(ngModel)]="MontoSinIGVOARE"
                                                           decimal="1.0-6"
                                                           (blur)="changeFPMontoSinIGV()"
                                                           (keyup.enter)="changeFPMontoSinIGV()" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="20"
                                                           [(ngModel)]="MontoFPSinIGVOARE"
                                                           disabled />
                                                </td>
                                            </tr>
                                            <tr class="d-flex">
                                                <td class="col-sm"></td>
                                                   <!-- <td class="col-sm"></td>-->
                                                <td class="col-sm text-center"></td>
                                                <td class="col-sm text-center"></td>
                                                <td class="col-sm text-center"><span>TOTAL SIN IGV</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           disabled
                                                           [(ngModel)]="TotalSinIGV" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           disabled
                                                           [(ngModel)]="TotalFPSinIGV" />
                                                </td>
                                            </tr>
                                            <tr class="d-flex">
                                                <td class="col-sm"></td>
                                                 <!-- <td class="col-sm"></td>-->
                                                <td class="col-sm text-center"></td>
                                                <td class="col-sm text-center"></td>
                                                <td class="col-sm text-center"><span>TOTAL CON IGV</span></td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           disabled
                                                           [(ngModel)]="TotalConIGV" />
                                                </td>
                                                <td class="col-sm text-center">
                                                    <input style="width: 70% !important;height: 120% !important;"
                                                           type="text"
                                                           class="text-right"
                                                           [checked]="false"
                                                           placeholder="0"
                                                           FloatSixDirective
                                                           maxlength="21"
                                                           disabled
                                                           [(ngModel)]="TotalFPConIGV" />
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12" *ngIf="messageWorker != ''"> <p class="msg-error">{{ messageWorker }}</p></div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6"
                                 *ngIf="listaTasasSalud?.length > 0 && template.ins_saludList">
                                <div class="row">
                                    <div class="col-sm-6"
                                         *ngIf="template.ins_primaSaludMin">
                                        <label class="mb-0"><span>{{ variable.var_primaMinimaSalud }}</span></label>
                                        <input type="text"
                                               placeholder="0"
                                               disabled
                                               [(ngModel)]="inputsQuotation.P_PRIMA_MIN_SALUD" />
                                    </div>
                                    <div class="col-sm-6"
                                         *ngIf="template.ins_primaSaludMinPro">
                                        <label class="mb-0"><span><input *ngIf="template.ins_primaSaludMinProCheck"
                                                       [disabled]="!canProposeMinimunPremium"
                                                       type="checkbox"
                                                       style="top: 3px"
                                                       class="checkbox"
                                                       (change)="resetearPropuesto(1)"
                                                       [(ngModel)]="primMinimaSalud" />
                                                PRIMA MÍNIMA PROPUESTA</span></label>
                                        <input type="text"
                                               placeholder="0"
                                               [disabled]="statePrimaSalud"
                                               disabled
                                               style="margin-top: 4px !important"
                                               (ngModelChange)="resetearPrimas($event, saludID)"
                                               maxlength="12"
                                               [(ngModel)]="inputsQuotation.P_PRIMA_MIN_SALUD_PRO"
                                               FloatDirective />
                                    </div>
                                </div>
                                <div class="card mt-3">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-sm">
                                                <h5>SCTR SALUD</h5>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <table class="table table-borderless riesgo tblTasas">
                                                <thead>
                                                    <tr class="d-flex">
                                                        <th class="col-sm text-center">
                                                            <label>Categoría</label>
                                                        </th>
                                                        <th class="col-sm text-center">
                                                            <label>{{ variable.var_tasaNeta }}</label>
                                                        </th>
                                                        <th class="col-sm text-center">
                                                            <label>Propuesta (%)</label>
                                                        </th>
                                                        <th class="col-sm text-center">
                                                            <label>Prima Mensual</label>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasSalud?.length == 0">
                                                        <td class="col-sm text-center">
                                                            No hay tasas asociadas
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngFor="
                              let tasa of listaTasasSalud;
                              let row = index
                            ">
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm text-center">
                                                            <span>{{ tasa.description }}</span>
                                                        </td>
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm text-center">
                                                            <span>{{ tasa.rate }} %</span>
                                                        </td>
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm">
                                                            <input type="text"
                                                                   class="text-center"
                                                                   placeholder="0"
                                                                   [(ngModel)]="tasa.planProp"
                                                                   [ngClass]="{ 'error-validate': tasa.valItem }"
                                                                   (ngModelChange)="
                                  resetearTasas($event, tasa.id, row, saludID)
                                "
                                                                   [disabled]="
                                  disabledFlat[row].value || tasa.disabled
                                "
                                                                   FloatSixDirective />
                                                            <span class="porcentaje">%</span>
                                                        </td>
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm text-center">
                                                            <span>{{
                                                                tasa.premiumMonth | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                    <hr style="margin-bottom: 0"
                                                        *ngIf="listaTasasSalud?.length > 0" />
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasSalud?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{ variable.var_primaNeta }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{
                                                                totalNetoSaludSave | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasSalud?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{ variable.var_primaComercial }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{
                                                                inputsQuotation.primaComSalud | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasSalud?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{ variable.var_igv }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{ igvSaludSave | prettyNumber: 2 }}</span>
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasSalud?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{
                                                                variable.var_primaComercialTotal
                                                                }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{
                                                                brutaTotalSaludSave | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="col-sm-12">
                                                <p class="msg-error">{{ mensajePrimaSalud }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div [ngClass]="template.ins_pensionWith ? 'col-sm-12' : 'col-sm-6'"
                                 *ngIf="
                  categoryList?.length > 0 ||
                  listaTasasPension?.length > 0 ||
                  planesList?.length > 0
                ">
                                <div class="row">
                                    <div *ngIf="template.ins_primaPensionMin"
                                         [ngClass]="
                      template.ins_pensionWith ? 'col-sm-3' : 'col-sm-6'
                    ">
                                        <label class="mb-0"><span>{{
                                                inputsQuotation.primaMinimaPension
                                                }}</span></label>
                                        <input type="text"
                                               placeholder="0"
                                               disabled
                                               [(ngModel)]="inputsQuotation.P_PRIMA_MIN_PENSION" />
                                    </div>
                                    <div [ngClass]="
                      template.ins_pensionWith ? 'col-sm-3' : 'col-sm-6'
                    "
                                         *ngIf="template.ins_primaPensionMinPro">
                                        <label class="mb-0"><span><input *ngIf="template.ins_primaPensionMinProCheck"
                                                       [disabled]="!canProposeMinimunPremium"
                                                       type="checkbox"
                                                       style="top: 3px"
                                                       class="checkbox"
                                                       (change)="resetearPropuesto(2)"
                                                       [(ngModel)]="primMinimaPension" />
                                                PRIMA MÍNIMA PROPUESTA</span></label>
                                        <input type="text"
                                               placeholder="0"
                                               [disabled]="statePrimaPension"
                                               (ngModelChange)="resetearPrimas($event, pensionID)"
                                               maxlength="12"
                                               style="margin-top: 4px !important"
                                               [(ngModel)]="inputsQuotation.P_PRIMA_MIN_PENSION_PRO"
                                               FloatDirective />
                                    </div>
                                    <div *ngIf="template.ins_plan"
                                         class="col-sm-3">
                                        <label class="mb-0"><span>{{ variable.var_desPlan }}</span></label>
                                        <!-- <input type="text" placeholder="0" disabled [(ngModel)]="inputsQuotation.desTipoPlan" /> -->
                                        <!-- marcos silverio -->
                                        <select [(ngModel)]="inputsQuotation.desTipoPlan"
                                                class="minimal"
                                                [disabled]="
                        this.typeTran == 'Declaracion' ||
                        this.typeTran == 'Exclusion' ||
                        this.typeTran == 'Endoso' ||
                        this.typeTran == 'Inclusion'
                      ">
                                            <option *ngFor="let p of planList"
                                                    value="{{ p.SDESCRIPT | uppercase }}">
                                                {{ p.SDESCRIPT }}
                                            </option>
                                        </select>
                                    </div>
                                    <!-- ini - marcos silverio -->
                                    <div *ngIf="
                      template.ins_plan &&
                      template.ins_recotizarCotizacion &&
                      nrocotizacion != undefined &&
                      inputsQuotation.desTipoPlan == 'Plan Maestro'
                    "
                                         class="col-sm-1">
                                        <label class="mb-0"><span>Coberturas</span></label>
                                        <br />
                                        <a class="col-sm-12"
                                           (click)="seeCovers(nrocotizacion)">
                                            <img alt="Ver planes"
                                                 src="assets/icons/see.svg"
                                                 style="cursor: pointer; height: 24px; margin-left: 10px" />
                                        </a>
                                    </div>
                                    <!-- fin - marcos silverio -->
                                </div>
                                <div class="card mt-3">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-sm">
                                                <h5>{{ variable.var_nomSubProducto }}</h5>
                                            </div>
                                        </div>
                                        <div class="row"
                                             *ngIf="template.ins_pensionList">
                                            <table class="table table-borderless riesgo tblTasas">
                                                <thead>
                                                    <tr class="d-flex">
                                                        <th class="col-sm text-center">
                                                            <label>Categoría</label>
                                                        </th>
                                                        <th class="col-sm text-center">
                                                            <label>{{ variable.var_tasaNeta }}</label>
                                                        </th>
                                                        <th class="col-sm text-center">
                                                            <label>Propuesta (%)</label>
                                                        </th>
                                                        <th class="col-sm text-center">
                                                            <label>Prima Mensual</label>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasPension?.length == 0">
                                                        <td colspan="4"
                                                            class="col-sm text-center">
                                                            No hay tasas asociadas
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngFor="
                              let tasa of listaTasasPension;
                              let row = index
                            ">
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm text-center">
                                                            <span>{{ tasa.description }}</span>
                                                        </td>
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm text-center">
                                                            <span>{{ tasa.rate }} %</span>
                                                        </td>
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm">
                                                            <input type="text"
                                                                   class="text-center"
                                                                   placeholder="0"
                                                                   [(ngModel)]="tasa.planProp"
                                                                   [ngClass]="{ 'error-validate': tasa.valItem }"
                                                                   (ngModelChange)="
                                  resetearTasas($event, tasa.id, row, pensionID)
                                "
                                                                   [disabled]="disabledFlat[row].value"
                                                                   FloatSixDirective />
                                                            <span class="porcentaje">%</span>
                                                        </td>
                                                        <td *ngIf="tasa.status == 1"
                                                            class="col-sm text-center">
                                                            <span>{{
                                                                tasa.premiumMonth | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                    <hr style="margin-bottom: 0"
                                                        *ngIf="listaTasasPension?.length > 0" />
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasPension?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{ variable.var_primaNeta }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{
                                                                totalNetoPensionSave | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasPension?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{ variable.var_primaComercial }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{
                                                                inputsQuotation.primaComPension
                                                                | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasPension?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{ variable.var_igv }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{
                                                                igvPensionSave | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                    <tr class="d-flex"
                                                        *ngIf="listaTasasPension?.length > 0">
                                                        <td class="col-sm text-right colspan3">
                                                            <span>{{
                                                                variable.var_primaComercialTotal
                                                                }}</span>
                                                        </td>
                                                        <td class="col-sm text-center">
                                                            <span>{{
                                                                brutaTotalPensionSave | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="col-sm-12">
                                                <p class="msg-error">{{ mensajePrimaPension }}</p>
                                            </div>
                                        </div>
                                        <!--VIDA LEY-->
                                        <div class="row" *ngIf="template.ins_montoList">
                                            <table *ngIf=" typeTran != 'Inclusion' && typeTran != 'Exclusion' && typeTran != 'Endoso' && flagPolizaMat == false"
                                                   [className]=" typeTran == 'Declaracion' ? 'table table-borderless riesgo tblTasas widthDeclareTasa' : 'table table-borderless riesgo tblTasas'">
                                                <thead>
                                                    <tr>
                                                        <th class="text-center"><label>Categoría</label></th>
                                                         <!-- GCAA 28/09/2023-->
                                                         <th class="text-center"><label>Rango de Edad</label></th>
                                                        <!-- FIN GCAA 28/09/2023-->
                                                        <th class="text-center prTasas"><label>Tasa</label></th>
                                                        <th [className]="
                                this.inputsQuotation.frecuenciaPago == 5 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSidesHeader text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 5 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <label>Prima Mensual</label>
                                                        </th>
                                                        <th [className]="
                                this.inputsQuotation.frecuenciaPago == 4 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSidesHeader text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 4 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <label>Prima Bimestral</label>
                                                        </th>
                                                        <th [className]="
                                this.inputsQuotation.frecuenciaPago == 3 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSidesHeader text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 3 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <label>Prima Trimestral</label>
                                                        </th>
                                                        <th [className]="
                                this.inputsQuotation.frecuenciaPago == 2 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSidesHeader text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 2 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <label>Prima Semestral</label>
                                                        </th>
                                                        <th [className]="
                                this.inputsQuotation.frecuenciaPago == 1 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSidesHeader text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 1 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <label>Prima Anual</label>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngIf="amountPremiumList.length == 0">
                                                        <td class="text-center" colspan="6"> No hay tasas asociadas</td>
                                                    </tr>
                                                    <tr *ngFor=" let item of amountPremiumList; let i = index">
                                                        <td class="text-center" *ngIf="item.sactive == true"><span>{{ item.SCATEGORIA }}</span></td>
                                                        <!-- GCAA 28/09/2023-->
                                                        <td class="text-center" *ngIf="item.sactive == true"><span>{{item.SRANGO_EDAD}}</span></td>
                                                        <!--FIN GCAA 28/09/2023-->
                                                        <td class="text-center prTasas"*ngIf="item.sactive == true"><span>{{ item.NTASA }}%</span></td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 5 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 5 &&
                                  template.ins_cuadroTipoFrecu) ||
                                (item.sactive == true &&
                                  typeTran != 'Declaracion')
                              ">
                                                            <span>{{
                                                                item.NPREMIUMN_MEN | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 4 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 4 &&
                                  template.ins_cuadroTipoFrecu) ||
                                (item.sactive == true &&
                                  typeTran != 'Declaracion')
                              ">
                                                            <span>{{
                                                                item.NPREMIUMN_BIM | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 3 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 3 &&
                                  template.ins_cuadroTipoFrecu) ||
                                (item.sactive == true &&
                                  typeTran != 'Declaracion')
                              ">
                                                            <span>{{
                                                                item.NPREMIUMN_TRI | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 2 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 2 &&
                                  template.ins_cuadroTipoFrecu) ||
                                (item.sactive == true &&
                                  typeTran != 'Declaracion')
                              ">
                                                            <span>{{
                                                                item.NPREMIUMN_SEM | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 1 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 1 &&
                                  template.ins_cuadroTipoFrecu) ||
                                (item.sactive == true &&
                                  typeTran != 'Declaracion')
                              ">
                                                            <span>{{
                                                                item.NPREMIUMN_ANU | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>

                                                    <tr *ngFor=" let item of amountDetailTotalList; let i = index" style="border-top: 1px solid #ddd">
                                                        <!-- GCAA 28/09/2023 SE CAMBIA COLSPAN A 3 DE 2-->
                                                        <td colspan="3" class="text-right"><span class="prTasas">{{item.SDESCRIPCION}}</span></td>
                                                        <td [className]=" this.inputsQuotation.frecuenciaPago == 5 && template.ins_cprocesarTramaEstadouadroTipoFrecu ? 'borderSides text-center' : 'text-center'"
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 5 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <span>{{
                                                                item.NAMOUNT_MEN | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 4 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 4 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <span>{{
                                                                item.NAMOUNT_BIM | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 3 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 3 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <span>{{
                                                                item.NAMOUNT_TRI | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 2 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 2 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <span>{{
                                                                item.NAMOUNT_SEM | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                        <td [className]="
                                this.inputsQuotation.frecuenciaPago == 1 &&
                                template.ins_cuadroTipoFrecu
                                  ? 'borderSides text-center'
                                  : 'text-center'
                              "
                                                            *ngIf="
                                typeTran != 'Declaracion' ||
                                (typeTran == 'Declaracion' &&
                                  inputsQuotation.frecuenciaPago == 1 &&
                                  template.ins_cuadroTipoFrecu)
                              ">
                                                            <span>{{
                                                                item.NAMOUNT_ANU | prettyNumber: 2
                                                                }}</span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="col-md-6"
                                                 *ngIf="typeTran == 'Inclusion'">
                                                <table class="table table-borderless riesgo tblTasas">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">
                                                                <label>Categoría</label>
                                                            </th>
                                                            <th class="text-center">
                                                                <label>Rango de Edad</label>
                                                            </th>
                                                            <th class="text-center prTasas">
                                                                <label>Tasa</label>
                                                            </th>
                                                            <th class="text-center">
                                                                <label>Prima Total</label>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngIf="amountPremiumList.length == 0">
                                                            <td class="text-center"
                                                                colspan="6">
                                                                No hay tasas asociadas
                                                            </td>
                                                        </tr>
                                                        <tr *ngFor="let item of amountPremiumList;let i = index">
                                                            <td class="text-center"
                                                                *ngIf="item.sactive == true">
                                                                <span>{{ item.SCATEGORIA }}</span>
                                                            </td>
                                                            <td class="text-center" *ngIf="item.sactive == true">
                                                                <span>{{item.SRANGO_EDAD}}</span></td>

                                                            <td class="text-center prTasas"
                                                                *ngIf="item.sactive == true">
                                                                <span>{{ item.NTASA }}%</span>
                                                            </td>
                                                            <td class="text-center prTasas">
                                                                <span>{{
                                                                    item.NPREMIUMN_ANU | prettyNumber: 2
                                                                    }}</span>
                                                            </td>
                                                        </tr>
                                                        <tr *ngFor="let item of amountDetailTotalList;let i = index"
                                                            style="border-top: 1px solid #ddd">
                                                            <td colspan="3"
                                                                class="text-right">
                                                                <span class="prTasas">{{
                                                                    item.SDESCRIPCION
                                                                    }}</span>
                                                            </td>
                                                            <td class="text-center">
                                                                <span>{{
                                                                    item.NAMOUNT_ANU | prettyNumber: 2
                                                                    }}</span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-6"
                                                 *ngIf="typeTran == 'Endoso'">
                                                <table class="table table-borderless riesgo tblTasas">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-center">
                                                                <label>Categoría</label>
                                                            </th>
                                                            <th class="text-center prTasas">
                                                                <label>Tasa</label>
                                                            </th>
                                                            <th class="text-center">
                                                                <label>Monto a pagar</label>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngIf="amountPremiumList.length == 0">
                                                            <td class="text-center"
                                                                colspan="6">
                                                                No hay tasas asociadas
                                                            </td>
                                                        </tr>
                                                        <tr *ngFor="
                                let item of amountPremiumList;
                                let i = index
                              ">
                                                            <td class="text-center"
                                                                *ngIf="item.sactive == true">
                                                                <span>{{ item.SCATEGORIA }}</span>
                                                            </td>
                                                            <td class="text-center prTasas"
                                                                *ngIf="item.sactive == true">
                                                                <span>{{ item.NTASA | prettyNumber: 2 }}%</span>
                                                            </td>
                                                            <td class="text-center prTasas">
                                                                <span>{{
                                                                    item.NPREMIUMN_TOT | number: "1.2-2"
                                                                    }}</span>
                                                            </td>
                                                        </tr>
                                                        <tr *ngFor="
                                let item of amountDetailTotalList;
                                let i = index
                              "
                                                            style="border-top: 1px solid #ddd">
                                                            <td colspan="2"
                                                                class="text-right">
                                                                <span class="prTasas">{{
                                                                    item.SDESCRIPCION
                                                                    }}</span>
                                                            </td>
                                                            <td class="text-center">
                                                                <span>{{
                                                                    item.NAMOUNT_TOT | number: "1.2-2"
                                                                    }}</span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-sm-6"
                                                 *ngIf="typeTran == 'Exclusion'">
                                                <table class="table table-borderless riesgo tblTasas">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-left">
                                                                <label>Categoría</label>
                                                            </th>
                                                            <th class="text-center prTasas">
                                                                <label>Tasa</label>
                                                            </th>
                                                            <th class="text-center prTasas">
                                                                <label>Monto a devolver</label>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngIf="amountPremiumList.length == 0">
                                                            <td class="text-center"
                                                                colspan="3">
                                                                No hay tasas asociadas
                                                            </td>
                                                        </tr>
                                                        <tr *ngFor="
                                let item of amountPremiumList;
                                let i = index
                              ">
                                                            <td class="text-center">
                                                                <span>{{ item.SCATEGORIA }}</span>
                                                            </td>
                                                            <td class="text-center">
                                                                <span>{{ item.NTASA | prettyNumber: 6 }}%</span>
                                                            </td>
                                                            <td class="text-center">
                                                                <span>{{
                                                                    item.NPREMIUMN_TOT | number: "1.2-2"
                                                                    }}</span>
                                                            </td>
                                                        </tr>

                                                        <tr *ngFor="
                                let item of amountDetailTotalList;
                                let i = index
                              "
                                                            style="border-top: 1px solid #ddd">
                                                            <td colspan="2"
                                                                class="text-right">
                                                                <span class="prTasas">{{
                                                                    item.SDESCRIPCION
                                                                    }}</span>
                                                            </td>
                                                            <td class="text-center">
                                                                <span>{{
                                                                    item.NAMOUNT_TOT | number: "1.2-2"
                                                                    }}</span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-sm-12">
                                                <p class="msg-error">{{ mensajePrimaPension }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3"
                                 *ngIf="flagPolizaMat == true">
                                <span>PLAN</span>
                                <select [(ngModel)]="inputsQuotation.desTipoPlanPM"
                                        class="minimal">
                                    <option *ngFor="let p of planList"
                                            value="{{ p.SDESCRIPT | uppercase }}">
                                        {{ p.SDESCRIPT }}
                                    </option>
                                </select>
                            </div>
                            <div class="col-sm-3"
                                 *ngIf="flagPolizaMat == true">
                                <label class="mb-0"><span>TARIFA (*)</span></label>
                                <!--<select (change)="onSelectComision($event.target.value)"
                                        [(ngModel)]="inputsQuotation.P_COMISION"
                                        (click)="clearValidate(16)"
                                        [ngClass]="{ 'error-validate': inputsValidate[16] }"
                                        class="minimal"
                                        [disabled]="
                                                    canTasaVL ||
                                                    typeTran == 'Declaracion' ||
                                                    typeTran == 'Inclusion'
                                                ">
                                    <option value="">SELECCIONE</option>
                                    <option *ngFor="let comision of comisionList"
                                            value="{{ comision.idComision }}">
                                        {{ comision.nroComision }}
                                    </option>
                                </select>-->
                                <select (change)="onSelectComision(ComisionObjeto)"
                                        [(ngModel)]="ComisionObjeto"
                                        (click)="clearValidate(16)"
                                        [ngClass]="{ 'error-validate': inputsValidate[16] }"
                                        class="minimal"
                                        [disabled]="
                                                    canTasaVL ||
                                                    typeTran == 'Declaracion' ||
                                                    typeTran == 'Inclusion'
                                                ">
                                    <option value="">SELECCIONE</option>
                                    <option *ngFor="let comision of comisionList" [ngValue]="comision">{{ comision.nroComision }}</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12"
                                 *ngIf="flagPolizaMat == true">
                                <span>* LA PÓLIZA MATRIZ NO GENERA RECIBO Y FACTURA</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <span>COMENTARIO</span>
                                <textarea rows="4"
                                          placeholder="Comentario"
                                          [(ngModel)]="inputsQuotation.P_SCOMMENT"
                                          (keypress)="textValidate($event, 4)"
                                          maxlength="4000"></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12"
                                 *ngIf="flagPolizaMat == true">
                                <span>DOCUMENTOS DE LOS ASEGURADOS</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <button type="button"
                                        (click)="fileInput.click()"
                                        style="margin: 15px 0">
                                    <span>Seleccionar Archivo</span>
                                </button>
                                <input hidden
                                       #fileInput
                                       ngfSelect
                                       multiple
                                       type="file"
                                       [(files)]="files"
                                       [maxSize]="maxSize"
                                       accept="application/pdf,image/png,image/jpeg,application/msword,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div *ngIf="files.length > 0">
                                    <div style="margin-bottom: 0px">
                                        <h6>Archivos Seleccionados ({{ files.length }})</h6>
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>Nombre</th>
                                                    <!-- <th>Tipo</th> -->
                                                    <th class="text-center">Tamaño</th>
                                                    <th class="text-center">Acción</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let item of files; let i = index">
                                                    <td>
                                                        <strong>{{ item.name }}</strong>
                                                    </td>
                                                    <!-- <td>
                                                        {{ item.type }}
                                                    </td> -->
                                                    <td class="text-center">
                                                        {{ item.size / 1024 / 1024 | number: ".2" }} MB
                                                    </td>
                                                    <td class="text-center">
                                                        <img src="assets/icons/anular.png"
                                                             (click)="files.splice(i, 1)"
                                                             title="Eliminar"
                                                             alt="Eliminar" />
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion mt-2">
            <div class="pull-right mt-2"
                 style="width: 100%">
                <button *ngIf="codProducto == '3' && flagPolizaMat == true"
                        class="pull-right full-color"
                        (click)="grabarCotizacion()">
                    <span>Generar Trámite</span>
                </button>
                <button *ngIf="(codProducto == '2' || codProducto == '3') && flagPolizaMat == false"
                        class="pull-right full-color"
                        (click)="grabarCotizacion()">
                    <span>Aceptar</span>
                </button>
                <button class="pull-right"
                        (click)="limpiar()">
                    <span>Cancelar</span>
                </button>
            </div>
        </div>
    </div>
</div>

<panel-info-pago [(abrir)]="modal.pagos"
                 [cotizacion]="cotizacion"
                 (confirmar)="formaPagoElegido()"
                 [(isLoading)]="isLoading">
</panel-info-pago>

<!-- Pantalla de carga -->
<div [hidden]="!isLoading"
     class="loadingScreen">
    <div style="display: flex; height: 100%; width: 100%">
        <i style="margin: auto; font-size: 50px"
           class="fa fa-spinner fa-spin"></i>
    </div>
</div>